Title(Ex04.asm)

.model small
.stack 100h

.data
Abytes1 db 10h, 20h, 30h, 40h
Awords1 dw 100h, 200h, 300h, 400h

Res1a db ?
Res1b db ?
Res2a dw ?
Res2b dw ?
Res3 dw ?

.code
main proc
	mov ax, @data
	mov ds, ax

	; Add bytes through direct offset
	mov ax, 0
	mov di, offset Abytes1

	add al, byte ptr [di + 0]
	add al, byte ptr [di + 1]
	add al, byte ptr [di + 2]
	add al, byte ptr [di + 3]

	mov Res1a, al

	; Add bytes with loop
	mov ax, 0
	mov cx, 4
	mov di, offset Abytes1

	add_bytes_loop:
	inc di
	add al, byte ptr [di] 
	loop add_bytes_loop

	mov Res1b, al
	
	; Add words through direct offset
	mov ax, 0
	mov di, offset Awords1

	add ax, word ptr [di + 0]
	add ax, word ptr [di + 1]
	add ax, word ptr [di + 2]
	add ax, word ptr [di + 3]

	mov Res2a, ax

	; Add words with loop
	mov ax, 0
	mov cx, 4
	mov di, offset Abytes1

	add_words_loop:
	inc di
	add ax, word ptr [di] 
	loop add_words_loop

	mov Res2b, ax
	
	mov ax, 0
	mov ax, Res2a
	mov Res3, ax
	mov ax, Res2b
	add Res3, ax

main endp
end main